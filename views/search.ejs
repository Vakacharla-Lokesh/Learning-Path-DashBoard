<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
    <link rel="shortcut icon" href="\images\logo.png">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="\styles\style.css">
    <title>Google</title>
    <style>
        header{
            position: fixed;
            top: 0px;
        }
        body {
            font-family: Arial, sans-serif;
            background-color: #202124;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        .logo {
            margin-bottom: 20px;
        }
        .search-bar {
            display: flex;
            align-items: center;
            background-color: #303134;
            border-radius: 24px;
            padding: 6px 14px;
            width: 560px;
            max-width: 90%;
        }
        .search-bar input {
            flex-grow: 1;
            background: none;
            border: none;
            color: #e8eaed;
            font-size: 16px;
            outline: none;
            padding: 10px;
        }
        .search-icon, .mic-icon, .lens-icon {
            color: #9aa0a6;
            font-size: 20px;
            padding: 0 8px;
            margin-left: 20px;
        }
        .shortcuts {
            display: flex;
            justify-content: center;
            margin-top: 30px;
        }
        .shortcut {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 10px;
            text-decoration: none;
            color: #e8eaed;
        }
        .shortcut-icon {
            width: 48px;
            height: 48px;
            background-color: #303134;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }
        .add-shortcut {
            background-color: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo" title="University Management System">
            <a href=<% home_link %>>
                <img src="\images\logo.png" alt="">
                <h2>U<span class="danger">M</span>S</h2>
            </a>
        </div>
        <div class="navbar">
            <a href="/" class="active">
                <span class="material-icons-sharp">home</span>
                <h3>Profile</h3>
            </a>
            <a href="/search">
                <span class="material-symbols-outlined">search</span>
                <h3>Search</h3>
            </a> 
            <a href="/search_results">
                <span class="material-icons-sharp">grid_view</span>
                <h3>Courses</h3>
            </a>
            <a href="./password.html">
                <span class="material-icons-sharp">password</span>
                <h3>Change Password</h3>
            </a>
            <!-- <a href="#">
                <span class="material-icons-sharp" onclick="">logout</span>
                <h3>Logout</h3>
            </a> -->
            <% if(curr_login == "false"){ %>
                <a href="/login-get">
                    <span class="material-icons-sharp" onclick="">login</span>
                    <h3>Login</h3>
                </a>
            <%}else{ %>
                  <a href="/logout">
                    <div class="logo">
                        <span class="material-icons-sharp" onclick="">logout</span>
                        <h3>Logout</h3>
                    </div>
                  </a>
            <% } %>
        </div>
        <div id="profile-btn">
            <span class="material-icons-sharp">person</span>
        </div>
        <div class="theme-toggler">
            <span class="material-icons-sharp active">light_mode</span>
            <span class="material-icons-sharp">dark_mode</span>
        </div>
        
    </header>
    <div class="logo">
        <!-- LOGO OF WEBPAGE -->
        <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_light_color_272x92dp.png" alt="Google Logo">
    </div>
    <div class="search-bar">
        <!-- <span class="search-icon">üîç</span>
        <input type="text" placeholder="Search Courses"> -->
        <form action="/search_results" method="get" style="display: inline;">
            <span class="search-icon">üîç</span>
            <input type="search_text" placeholder="Search Courses" name="course_text">
        </form>
    </div>
    <div class="shortcuts">
        <a href="/search_results" class="shortcut" name="course_text">
            <!-- LOGO OF COURSE TYPE -->
            <div class="shortcut-icon">L</div>
            <span>Front End Development</span>
        </a>
        <a href="/search_results" class="shortcut" name="course_text">
            <div class="shortcut-icon">H</div>
            <span>Java</span>
        </a>
        <a href="/search_results" class="shortcut" name="course_text">
            <div class="shortcut-icon">A</div>
            <span>UI</span>
        </a>
        <a href="/search_results" class="shortcut" name="course_text">
            <div class="shortcut-icon">C</div>
            <span>Python</span>
        </a>
        <a href="/search_results" class="shortcut" name="course_text">
            <div class="shortcut-icon">U</div>
            <span>C++</span>
        </a>
        <a href="/search_results" class="shortcut" name="course_text">
            <div class="shortcut-icon">C</div>
            <span>Cybersecurity</span>
        </a>
    </div>
    <!-- FUNCTIONS FOR NAVBAR -->
    <script>
        // FIX THE SCRIPT FOR DARK AND LIGHT THEME
        const sideMenu = document.querySelector("aside");
        const profileBtn = document.querySelector("#profile-btn");
        const themeToggler = document.querySelector(".theme-toggler");
        const nextDay = document.getElementById('nextDay');
        const prevDay = document.getElementById('prevDay');
    
        profileBtn.onclick = function() {
            sideMenu.classList.toggle('active');
        }
        window.onscroll = () => {
            sideMenu.classList.remove('active');
            if(window.scrollY > 0){document.querySelector('header').classList.add('active');}
            else{document.querySelector('header').classList.remove('active');}
        }
    
        themeToggler.onclick = function() {
            document.body.classList.toggle('dark-theme');
            themeToggler.querySelector('span:nth-child(1)').classList.toggle('active')
            themeToggler.querySelector('span:nth-child(2)').classList.toggle('active')
        }
    
        let setData = (day) =>{
            document.querySelector('table tbody').innerHTML = ' '; //To clear out previous table data;  
            let daylist = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
            document.querySelector('.timetable div h2').innerHTML = daylist[day];
            switch(day){
                case(0): day = Sunday; break;
                case(1): day = Monday; break;
                case(2): day = Tuesday; break;
                case(3): day = Wednesday; break;
                case(4): day = Thursday; break;
                case(5): day = Friday; break;
                case(6): day = Saturday; break;
            }
    
            day.forEach(sub => {
                const tr = document.createElement('tr');
                const trContent = `
                                    <td>${sub.time}</td>
                                    <td>${sub.roomNumber}</td>
                                    <td>${sub.subject}</td>
                                    <td>${sub.type}</td>
                                `
                tr.innerHTML = trContent;
                document.querySelector('table tbody').appendChild(tr)                        
            });
        }
    
        let now = new Date();
        let today = now.getDay(); // Will return the present day in numerical value; 
        let day = today; //To prevent the today value from changing;
    
        function timeTableAll(){
            document.getElementById('timetable').classList.toggle('active');
            setData(today);
            document.querySelector('.timetable div h2').innerHTML = "Today's Timetable";
        }
        nextDay.onclick = function() {
            day<=5 ? day++ : day=0;  // If else one liner
            setData(day);
        }
        prevDay.onclick = function() {
            day>=1 ? day-- : day=6;    
            setData(day);
        }
    
        setData(day); //To set the data in the table on loading window.
        document.querySelector('.timetable div h2').innerHTML = "Today's Timetable"; //To prevent overwriting the heading on loading;
    
    </script>
</body>
</html>